// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using NetTopologySuite.Geometries;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using RiceProduction.Infrastructure.Data;

#nullable disable

namespace RiceProduction.Infrastructure.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    partial class ApplicationDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.9")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "alert_severity", new[] { "info", "warning", "critical", "urgent" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "alert_source", new[] { "ai_weather", "ai_pest", "farmer_report", "supervisor_inspection", "system" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "alert_status", new[] { "new", "acknowledged", "in_progress", "resolved", "cancelled" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "cultivation_status", new[] { "planned", "in_progress", "completed", "failed" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "group_status", new[] { "draft", "active", "ready_for_optimization", "locked", "exception" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "invoice_status", new[] { "draft", "pending", "approved", "paid", "cancelled" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "material_type", new[] { "fertilizer", "pesticide", "seed", "other" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "plot_status", new[] { "active", "inactive", "emergency", "locked" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "priority_level", new[] { "none", "low", "medium", "high" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "risk_level", new[] { "low", "medium", "high" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "task_priority", new[] { "low", "normal", "high", "critical", "urgent" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "task_status", new[] { "draft", "pending_approval", "approved", "in_progress", "on_hold", "completed", "cancelled" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "task_type", new[] { "manual", "uav_service" });
            NpgsqlModelBuilderExtensions.HasPostgresEnum(modelBuilder, "user_role", new[] { "admin", "cluster_manager", "supervisor", "farmer", "agronomy_expert", "uav_vendor" });
            NpgsqlModelBuilderExtensions.HasPostgresExtension(modelBuilder, "postgis");
            NpgsqlModelBuilderExtensions.HasPostgresExtension(modelBuilder, "uuid-ossp");
            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<System.Guid>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("ClaimType")
                        .HasColumnType("text");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("text");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetRoleClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<System.Guid>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("ClaimType")
                        .HasColumnType("text");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("text");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<System.Guid>", b =>
                {
                    b.Property<string>("LoginProvider")
                        .HasColumnType("text");

                    b.Property<string>("ProviderKey")
                        .HasColumnType("text");

                    b.Property<string>("ProviderDisplayName")
                        .HasColumnType("text");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.HasKey("LoginProvider", "ProviderKey");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserLogins", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid");

                    b.HasKey("UserId", "RoleId");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetUserRoles", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<System.Guid>", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.Property<string>("LoginProvider")
                        .HasColumnType("text");

                    b.Property<string>("Name")
                        .HasColumnType("text");

                    b.Property<string>("Value")
                        .HasColumnType("text");

                    b.HasKey("UserId", "LoginProvider", "Name");

                    b.ToTable("AspNetUserTokens", (string)null);
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Alert", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("AcknowledgedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("AcknowledgedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("AgronomyExpertId")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("AiConfidence")
                        .HasColumnType("decimal(5,2)");

                    b.Property<string>("AiRawData")
                        .HasColumnType("jsonb");

                    b.Property<bool>("AiThresholdExceeded")
                        .HasColumnType("boolean");

                    b.Property<string>("AlertType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<Guid?>("ClusterId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("CreatedEmergencyTaskId")
                        .HasColumnType("uuid");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<Guid?>("GroupId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("NotificationSentAt")
                        .HasColumnType("timestamp with time zone");

                    b.PrimitiveCollection<Guid[]>("NotifiedUsers")
                        .HasColumnType("uuid[]");

                    b.Property<Guid?>("PlotId")
                        .HasColumnType("uuid");

                    b.Property<string>("RecommendedAction")
                        .HasColumnType("text");

                    b.Property<string>("RecommendedMaterials")
                        .HasColumnType("jsonb");

                    b.Property<int?>("RecommendedUrgencyHours")
                        .HasColumnType("integer");

                    b.Property<string>("ResolutionNotes")
                        .HasColumnType("text");

                    b.Property<DateTime?>("ResolvedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("ResolvedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Severity")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Source")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasKey("Id");

                    b.HasIndex("AcknowledgedBy");

                    b.HasIndex("AgronomyExpertId");

                    b.HasIndex("AlertType");

                    b.HasIndex("ClusterId");

                    b.HasIndex("CreatedEmergencyTaskId");

                    b.HasIndex("GroupId");

                    b.HasIndex("PlotId");

                    b.HasIndex("ResolvedBy");

                    b.HasIndex("Severity");

                    b.HasIndex("Source");

                    b.HasIndex("Status");

                    b.ToTable("Alerts");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ApplicationRole", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("text");

                    b.Property<string>("Name")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)");

                    b.Property<string>("NormalizedName")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)");

                    b.HasKey("Id");

                    b.HasIndex("NormalizedName")
                        .IsUnique()
                        .HasDatabaseName("RoleNameIndex");

                    b.ToTable("AspNetRoles", (string)null);
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ApplicationUser", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<int>("AccessFailedCount")
                        .HasColumnType("integer");

                    b.Property<string>("Address")
                        .HasColumnType("text");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("text");

                    b.Property<string>("Email")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)");

                    b.Property<bool>("EmailConfirmed")
                        .HasColumnType("boolean");

                    b.Property<string>("FullName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsVerified")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastActivityAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("LockoutEnabled")
                        .HasColumnType("boolean");

                    b.Property<DateTimeOffset?>("LockoutEnd")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("NormalizedEmail")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)");

                    b.Property<string>("NormalizedUserName")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)");

                    b.Property<string>("PasswordHash")
                        .HasColumnType("text");

                    b.Property<string>("PhoneNumber")
                        .HasColumnType("text");

                    b.Property<bool>("PhoneNumberConfirmed")
                        .HasColumnType("boolean");

                    b.Property<string>("RefreshToken")
                        .HasColumnType("text");

                    b.Property<string>("SecurityStamp")
                        .HasColumnType("text");

                    b.Property<bool>("TwoFactorEnabled")
                        .HasColumnType("boolean");

                    b.Property<string>("UserName")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)");

                    b.HasKey("Id");

                    b.HasIndex("NormalizedEmail")
                        .HasDatabaseName("EmailIndex");

                    b.HasIndex("NormalizedUserName")
                        .IsUnique()
                        .HasDatabaseName("UserNameIndex");

                    b.ToTable("ApplicationUser", (string)null);

                    b.UseTptMappingStrategy();
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Cluster", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal?>("Area")
                        .HasColumnType("decimal(10,2)");

                    b.Property<Polygon>("Boundary")
                        .HasColumnType("geometry(Polygon,4326)");

                    b.Property<Guid?>("ClusterManagerId")
                        .HasColumnType("uuid");

                    b.Property<string>("ClusterName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("Boundary");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Boundary"), "GIST");

                    b.HasIndex("ClusterManagerId");

                    b.HasIndex("ClusterName");

                    b.ToTable("Clusters");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.CultivationTask", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("ActualEndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("ActualMaterialCost")
                        .HasColumnType("decimal(12,2)");

                    b.Property<decimal>("ActualServiceCost")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(12, 2)
                        .HasColumnType("decimal(12,2)")
                        .HasDefaultValue(0m);

                    b.Property<DateTime?>("ActualStartDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("AssignedToUserId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("AssignedToVendorId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("CompletionPercentage")
                        .HasColumnType("integer");

                    b.Property<string>("ContingencyReason")
                        .HasColumnType("text");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("ExecutionOrder")
                        .HasColumnType("integer");

                    b.Property<string>("InterruptionReason")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<bool>("IsContingency")
                        .HasColumnType("boolean");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("PlotCultivationId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("ProductionPlanTaskId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("SupervisorId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("UavVendorId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("VerifiedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("VerifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("WeatherConditions")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.HasKey("Id");

                    b.HasIndex("AssignedToUserId")
                        .HasDatabaseName("IX_CultivationTask_AssignedUser");

                    b.HasIndex("AssignedToVendorId")
                        .HasDatabaseName("IX_CultivationTask_AssignedVendor");

                    b.HasIndex("PlotCultivationId")
                        .HasDatabaseName("IX_CultivationTask_PlotCultivationId");

                    b.HasIndex("ProductionPlanTaskId")
                        .HasDatabaseName("IX_CultivationTask_ProductionPlanTaskId");

                    b.HasIndex("SupervisorId");

                    b.HasIndex("UavVendorId");

                    b.HasIndex("VerifiedBy");

                    b.ToTable("CultivationTasks", t =>
                        {
                            t.HasCheckConstraint("CK_CultivationTask_CompletionPercentage", "[CompletionPercentage] >= 0 AND [CompletionPercentage] <= 100");

                            t.HasCheckConstraint("CK_CultivationTask_DateRange", "[ActualEndDate] IS NULL OR [ActualEndDate] >= [ActualStartDate]");

                            t.HasCheckConstraint("CK_CultivationTask_NonNegativeCosts", "[ActualCost] >= 0 AND [ActualServiceCost] >= 0");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.CultivationTaskMaterial", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal>("ActualCost")
                        .HasPrecision(12, 2)
                        .HasColumnType("numeric(12,2)")
                        .HasComment("Actual cost incurred for this material");

                    b.Property<decimal>("ActualQuantity")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)")
                        .HasComment("Actual quantity of material used during task execution");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CultivationTaskId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("MaterialId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("MaterialId1")
                        .HasColumnType("uuid");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.HasKey("Id");

                    b.HasIndex("CultivationTaskId")
                        .HasDatabaseName("IX_CultivationTaskMaterial_TaskId");

                    b.HasIndex("MaterialId")
                        .HasDatabaseName("IX_CultivationTaskMaterial_MaterialId");

                    b.HasIndex("MaterialId1");

                    b.HasIndex("CultivationTaskId", "MaterialId")
                        .IsUnique()
                        .HasDatabaseName("IX_CultivationTaskMaterial_Task_Material");

                    b.ToTable("CultivationTaskMaterials", t =>
                        {
                            t.HasCheckConstraint("CK_CultivationTaskMaterial_NonNegativeCost", "[ActualCost] >= 0");

                            t.HasCheckConstraint("CK_CultivationTaskMaterial_PositiveQuantity", "[ActualQuantity] > 0");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.FarmLog", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal?>("ActualAreaCovered")
                        .HasColumnType("decimal(10,2)");

                    b.Property<string>("ActualMaterialJson")
                        .HasColumnType("jsonb");

                    b.Property<int>("CompletionPercentage")
                        .HasColumnType("integer");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CultivationTaskId")
                        .HasColumnType("uuid");

                    b.Property<string>("InterruptionReason")
                        .HasColumnType("text");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("LoggedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("LoggedDate")
                        .HasColumnType("timestamp with time zone");

                    b.PrimitiveCollection<string[]>("PhotoUrls")
                        .HasColumnType("text[]");

                    b.Property<Guid>("PlotCultivationId")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("ServiceCost")
                        .HasColumnType("decimal(12,2)");

                    b.Property<string>("ServiceNotes")
                        .HasColumnType("text");

                    b.Property<DateTime?>("VerifiedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("VerifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("WeatherConditions")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("WorkDescription")
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.HasIndex("CultivationTaskId");

                    b.HasIndex("LoggedBy");

                    b.HasIndex("PlotCultivationId");

                    b.HasIndex("VerifiedBy");

                    b.ToTable("FarmLogs");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.FarmLogMaterial", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal>("ActualCost")
                        .HasPrecision(12, 2)
                        .HasColumnType("numeric(12,2)")
                        .HasComment("Actual cost incurred for this material usage");

                    b.Property<decimal>("ActualQuantityUsed")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)")
                        .HasComment("Actual quantity of material used and recorded in this farm log entry");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("FarmLogId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("MaterialId")
                        .HasColumnType("uuid");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.HasKey("Id");

                    b.HasIndex("FarmLogId")
                        .HasDatabaseName("IX_FarmLogMaterial_LogId");

                    b.HasIndex("MaterialId")
                        .HasDatabaseName("IX_FarmLogMaterial_MaterialId");

                    b.HasIndex("FarmLogId", "MaterialId")
                        .IsUnique()
                        .HasDatabaseName("IX_FarmLogMaterial_Log_Material");

                    b.ToTable("FarmLogMaterials", t =>
                        {
                            t.HasCheckConstraint("CK_FarmLogMaterial_NonNegativeCost", "[ActualCost] >= 0");

                            t.HasCheckConstraint("CK_FarmLogMaterial_PositiveQuantity", "[ActualQuantityUsed] > 0");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.FieldWeather", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<bool>("AlertTriggered")
                        .HasColumnType("boolean");

                    b.Property<Guid?>("ClusterId")
                        .HasColumnType("uuid");

                    b.Property<string>("Conditions")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("ForecastData")
                        .HasColumnType("jsonb");

                    b.Property<decimal?>("Humidity")
                        .HasColumnType("decimal(5,2)");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("Rainfall")
                        .HasColumnType("decimal(8,2)");

                    b.Property<DateTime>("RecordedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("Temperature")
                        .HasColumnType("decimal(5,2)");

                    b.Property<decimal?>("WindSpeed")
                        .HasColumnType("decimal(5,2)");

                    b.HasKey("Id");

                    b.HasIndex("ClusterId");

                    b.ToTable("FieldWeathers");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Group", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Polygon>("Area")
                        .HasColumnType("geometry(Polygon,4326)");

                    b.Property<Guid>("ClusterId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("ExceptionReason")
                        .HasColumnType("text");

                    b.Property<bool>("IsException")
                        .HasColumnType("boolean");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("PlantingDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("ReadyForUavDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("RiceVarietyId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("SeasonId")
                        .HasColumnType("uuid");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<Guid?>("SupervisorId")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("TotalArea")
                        .HasColumnType("decimal(10,2)");

                    b.HasKey("Id");

                    b.HasIndex("Area");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Area"), "GIST");

                    b.HasIndex("ClusterId");

                    b.HasIndex("PlantingDate");

                    b.HasIndex("ReadyForUavDate");

                    b.HasIndex("RiceVarietyId");

                    b.HasIndex("SeasonId");

                    b.HasIndex("Status");

                    b.HasIndex("SupervisorId");

                    b.ToTable("Groups");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Material", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Manufacturer")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Unit")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("Id");

                    b.HasIndex("IsActive");

                    b.HasIndex("Manufacturer");

                    b.HasIndex("Name");

                    b.HasIndex("Type");

                    b.ToTable("Materials");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.MaterialPrice", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("MaterialId")
                        .HasColumnType("uuid");

                    b.Property<decimal>("PricePerUnit")
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime>("ValidFrom")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("ValidTo")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("MaterialId");

                    b.ToTable("MaterialPrices");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Plot", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal>("Area")
                        .HasColumnType("decimal(10,2)");

                    b.Property<Polygon>("Boundary")
                        .IsRequired()
                        .HasColumnType("geometry(Polygon,4326)");

                    b.Property<Point>("Coordinate")
                        .HasColumnType("geometry(Point,4326)");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("FarmerId")
                        .HasColumnType("uuid");

                    b.Property<string>("FieldId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<Guid?>("GroupId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("SoilType")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.HasIndex("Boundary");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Boundary"), "GIST");

                    b.HasIndex("Coordinate");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Coordinate"), "GIST");

                    b.HasIndex("FarmerId");

                    b.HasIndex("FieldId")
                        .IsUnique();

                    b.HasIndex("GroupId");

                    b.HasIndex("SoilType");

                    b.HasIndex("Status");

                    b.ToTable("Plots");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.PlotCultivation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal?>("ActualYield")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("PlantingDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("PlotId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("RiceVarietyId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("SeasonId")
                        .HasColumnType("uuid");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasDefaultValue("Planned");

                    b.HasKey("Id");

                    b.HasIndex("PlantingDate")
                        .HasDatabaseName("IX_PlotCultivation_PlantingDate");

                    b.HasIndex("PlotId")
                        .HasDatabaseName("IX_PlotCultivation_PlotId");

                    b.HasIndex("RiceVarietyId")
                        .HasDatabaseName("IX_PlotCultivation_RiceVarietyId");

                    b.HasIndex("SeasonId")
                        .HasDatabaseName("IX_PlotCultivation_SeasonId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PlotCultivation_Status");

                    b.HasIndex("PlotId", "SeasonId")
                        .IsUnique()
                        .HasDatabaseName("IX_PlotCultivation_Plot_Season");

                    b.HasIndex("Status", "PlantingDate")
                        .HasDatabaseName("IX_PlotCultivation_Status_PlantingDate");

                    b.ToTable("PlotCultivations", t =>
                        {
                            t.HasCheckConstraint("CK_PlotCultivation_ActualYield", "[ActualYield] IS NULL OR [ActualYield] >= 0");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlan", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid?>("AgronomyExpertId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("ApprovedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("ApprovedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("BasePlantingDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("GroupId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("PlanName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<Guid?>("PlotCultivationId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("StandardPlanId")
                        .HasColumnType("uuid");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasDefaultValue("Draft");

                    b.Property<DateTime?>("SubmittedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("SubmittedBy")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("TotalArea")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.HasKey("Id");

                    b.HasIndex("AgronomyExpertId");

                    b.HasIndex("ApprovedBy");

                    b.HasIndex("BasePlantingDate")
                        .HasDatabaseName("IX_ProductionPlan_BasePlantingDate");

                    b.HasIndex("GroupId")
                        .HasDatabaseName("IX_ProductionPlan_GroupId");

                    b.HasIndex("PlanName")
                        .HasDatabaseName("IX_ProductionPlan_PlanName");

                    b.HasIndex("PlotCultivationId")
                        .HasDatabaseName("IX_ProductionPlan_PlotCultivationId");

                    b.HasIndex("StandardPlanId")
                        .HasDatabaseName("IX_ProductionPlan_StandardPlanId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_ProductionPlan_Status");

                    b.HasIndex("SubmittedBy");

                    b.HasIndex("Status", "BasePlantingDate")
                        .HasDatabaseName("IX_ProductionPlan_Status_PlantingDate");

                    b.ToTable("ProductionPlans", t =>
                        {
                            t.HasCheckConstraint("CK_ProductionPlan_ApprovalFlow", "([ApprovedAt] IS NULL AND [ApprovedBy] IS NULL) OR ([ApprovedAt] IS NOT NULL AND [ApprovedBy] IS NOT NULL)");

                            t.HasCheckConstraint("CK_ProductionPlan_SubmissionFlow", "([SubmittedAt] IS NULL AND [SubmittedBy] IS NULL) OR ([SubmittedAt] IS NOT NULL AND [SubmittedBy] IS NOT NULL)");

                            t.HasCheckConstraint("CK_ProductionPlan_TotalArea", "[TotalArea] IS NULL OR [TotalArea] > 0");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlanTask", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<decimal>("EstimatedMaterialCost")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(12, 2)
                        .HasColumnType("decimal(12,2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal>("EstimatedServiceCost")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(12, 2)
                        .HasColumnType("decimal(12,2)")
                        .HasDefaultValue(0m);

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Priority")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasDefaultValue("Normal");

                    b.Property<Guid>("ProductionPlanId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("ScheduledDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("ScheduledEndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("SequenceOrder")
                        .HasColumnType("integer");

                    b.Property<Guid>("StandardPlanTaskId")
                        .HasColumnType("uuid");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasDefaultValue("Draft");

                    b.Property<string>("TaskName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("TaskType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("Id");

                    b.HasIndex("ProductionPlanId")
                        .HasDatabaseName("IX_ProductionPlanTask_ProductionPlanId");

                    b.HasIndex("ScheduledDate")
                        .HasDatabaseName("IX_ProductionPlanTask_ScheduledDate");

                    b.HasIndex("StandardPlanTaskId")
                        .HasDatabaseName("IX_ProductionPlanTask_StandardPlanTaskId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_ProductionPlanTask_Status");

                    b.HasIndex("ProductionPlanId", "SequenceOrder")
                        .HasDatabaseName("IX_ProductionPlanTask_Plan_Sequence");

                    b.ToTable("ProductionPlanTasks", t =>
                        {
                            t.HasCheckConstraint("CK_ProductionPlanTask_DateRange", "[ScheduledEndDate] IS NULL OR [ScheduledEndDate] >= [ScheduledDate]");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlanTaskMaterial", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("EstimatedAmount")
                        .HasColumnType("decimal(12,2)");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("MaterialId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("MaterialId1")
                        .HasColumnType("uuid");

                    b.Property<Guid>("ProductionPlanTaskId")
                        .HasColumnType("uuid");

                    b.Property<decimal>("QuantityPerHa")
                        .HasColumnType("decimal(10,3)");

                    b.HasKey("Id");

                    b.HasIndex("MaterialId")
                        .HasDatabaseName("IX_ProductionPlanTaskMaterial_MaterialId");

                    b.HasIndex("MaterialId1");

                    b.HasIndex("ProductionPlanTaskId")
                        .HasDatabaseName("IX_ProductionPlanTaskMaterial_TaskId");

                    b.HasIndex("ProductionPlanTaskId", "MaterialId")
                        .IsUnique()
                        .HasDatabaseName("IX_ProductionPlanTaskMaterial_Task_Material");

                    b.ToTable("ProductionPlanTaskMaterials", t =>
                        {
                            t.HasCheckConstraint("CK_ProductionPlanTaskMaterial_NonNegativeCost", "[EstimatedCost] >= 0");

                            t.HasCheckConstraint("CK_ProductionPlanTaskMaterial_PositiveQuantity", "[EstimatedQuantity] > 0");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.RiceVariety", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<int?>("BaseGrowthDurationDays")
                        .HasColumnType("integer")
                        .HasComment("Base growth duration - actual duration may vary by season");

                    b.Property<decimal?>("BaseYieldPerHectare")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)")
                        .HasComment("Base yield per hectare - actual yield may vary by season");

                    b.Property<string>("Characteristics")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("General characteristics of this rice variety");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Whether this variety is currently active/available for planting");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("VarietyName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasKey("Id");

                    b.HasIndex("BaseGrowthDurationDays")
                        .HasDatabaseName("IX_RiceVariety_BaseGrowthDuration");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_RiceVariety_IsActive");

                    b.HasIndex("VarietyName")
                        .IsUnique()
                        .HasDatabaseName("IX_RiceVariety_VarietyName");

                    b.ToTable("RiceVarieties");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.RiceVarietySeason", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal?>("ExpectedYieldPerHectare")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)")
                        .HasComment("Expected yield per hectare for this variety-season combination");

                    b.Property<int>("GrowthDurationDays")
                        .HasColumnType("integer")
                        .HasComment("Growth duration in days for this variety in this specific season");

                    b.Property<bool>("IsRecommended")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Whether this variety is recommended for this season");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("OptimalPlantingEnd")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("OptimalPlantingStart")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("RiceVarietyId")
                        .HasColumnType("uuid");

                    b.Property<string>("RiskLevel")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasComment("Risk level: Low, Medium, or High");

                    b.Property<Guid>("SeasonId")
                        .HasColumnType("uuid");

                    b.Property<string>("SeasonalNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasComment("Special considerations for this variety-season combination");

                    b.HasKey("Id");

                    b.HasIndex("IsRecommended")
                        .HasDatabaseName("IX_RiceVarietySeason_IsRecommended");

                    b.HasIndex("RiceVarietyId")
                        .HasDatabaseName("IX_RiceVarietySeason_RiceVarietyId");

                    b.HasIndex("RiskLevel")
                        .HasDatabaseName("IX_RiceVarietySeason_RiskLevel");

                    b.HasIndex("SeasonId")
                        .HasDatabaseName("IX_RiceVarietySeason_SeasonId");

                    b.HasIndex("RiceVarietyId", "SeasonId")
                        .IsUnique()
                        .HasDatabaseName("IX_RiceVarietySeason_Variety_Season");

                    b.ToTable("RiceVarietySeasons");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Season", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("EndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Whether this season is currently active for planning");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("SeasonName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("SeasonType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Type of season (e.g., Wet Season, Dry Season, Winter-Spring)");

                    b.Property<DateTime>("StartDate")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_Season_IsActive");

                    b.HasIndex("SeasonName")
                        .IsUnique()
                        .HasDatabaseName("IX_Season_SeasonName");

                    b.HasIndex("SeasonType")
                        .HasDatabaseName("IX_Season_SeasonType");

                    b.HasIndex("StartDate", "EndDate")
                        .HasDatabaseName("IX_Season_DateRange");

                    b.ToTable("Seasons", t =>
                        {
                            t.HasCheckConstraint("CK_Season_DateRange", "[EndDate] > [StartDate]");
                        });
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlan", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("PlanName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<Guid>("RiceVarietyId")
                        .HasColumnType("uuid");

                    b.Property<int>("TotalDurationDays")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("RiceVarietyId");

                    b.ToTable("StandardPlans");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlanTask", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("DaysAfter")
                        .HasColumnType("integer");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<int>("DurationDays")
                        .HasColumnType("integer");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<int>("Priority")
                        .HasColumnType("integer");

                    b.Property<int>("SequenceOrder")
                        .HasColumnType("integer");

                    b.Property<Guid>("StandardPlanId")
                        .HasColumnType("uuid");

                    b.Property<string>("TaskName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<int>("TaskType")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("StandardPlanId");

                    b.ToTable("StandardPlanTasks");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlanTaskMaterial", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("MaterialId")
                        .HasColumnType("uuid");

                    b.Property<decimal>("QuantityPerHa")
                        .HasColumnType("decimal(10,3)");

                    b.Property<Guid>("StandardPlanTaskId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("MaterialId");

                    b.HasIndex("StandardPlanTaskId");

                    b.ToTable("StandardPlanTaskMaterials");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.SupervisorFarmerAssignment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime>("AssignedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("AssignmentNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("FarmerId")
                        .HasColumnType("uuid");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<int>("Priority")
                        .HasColumnType("integer");

                    b.Property<Guid>("SupervisorId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("AssignedAt");

                    b.HasIndex("FarmerId");

                    b.HasIndex("IsActive");

                    b.HasIndex("SupervisorId");

                    b.HasIndex("SupervisorId", "FarmerId")
                        .IsUnique();

                    b.ToTable("SupervisorFarmerAssignments");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavInvoice", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.PrimitiveCollection<string[]>("AttachmentUrls")
                        .HasColumnType("text[]");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("DueDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("InvoiceDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("InvoiceNumber")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<Guid?>("PaidBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("PaidDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<decimal>("RatePerHa")
                        .HasColumnType("decimal(10,2)");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<decimal>("Subtotal")
                        .HasColumnType("decimal(12,2)");

                    b.Property<decimal>("Tax")
                        .HasColumnType("decimal(12,2)");

                    b.Property<decimal>("TotalAmount")
                        .HasColumnType("decimal(12,2)");

                    b.Property<decimal>("TotalArea")
                        .HasColumnType("decimal(10,2)");

                    b.Property<Guid?>("UavServiceOrderId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("UavVendorId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("UavServiceOrderId");

                    b.HasIndex("UavVendorId");

                    b.ToTable("UavInvoices");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavServiceOrder", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal?>("ActualCost")
                        .HasColumnType("decimal(12,2)");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("CompletionPercentage")
                        .HasColumnType("integer");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("EstimatedCost")
                        .HasColumnType("decimal(12,2)");

                    b.Property<Guid>("GroupId")
                        .HasColumnType("uuid");

                    b.Property<DateTimeOffset>("LastModified")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<LineString>("OptimizedRoute")
                        .HasColumnType("geometry(LineString,4326)");

                    b.Property<string>("OrderName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<int>("Priority")
                        .HasColumnType("integer");

                    b.Property<string>("RouteData")
                        .HasColumnType("jsonb");

                    b.Property<DateTime>("ScheduledDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<TimeSpan?>("ScheduledTime")
                        .HasColumnType("interval");

                    b.Property<DateTime?>("StartedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<decimal>("TotalArea")
                        .HasColumnType("decimal(10,2)");

                    b.Property<int>("TotalPlots")
                        .HasColumnType("integer");

                    b.Property<Guid?>("UavVendorId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("GroupId");

                    b.HasIndex("UavVendorId");

                    b.ToTable("UavServiceOrders");
                });

            modelBuilder.Entity("RiceProduction.Infrastructure.Identity.RefreshToken", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsRevoked")
                        .HasColumnType("boolean");

                    b.Property<string>("ReplacedByToken")
                        .HasColumnType("text");

                    b.Property<DateTime?>("RevokedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("RefreshTokens");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Admin", b =>
                {
                    b.HasBaseType("RiceProduction.Domain.Entities.ApplicationUser");

                    b.ToTable("Admins", (string)null);
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.AgronomyExpert", b =>
                {
                    b.HasBaseType("RiceProduction.Domain.Entities.ApplicationUser");

                    b.ToTable("AgronomyExperts", (string)null);
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ClusterManager", b =>
                {
                    b.HasBaseType("RiceProduction.Domain.Entities.ApplicationUser");

                    b.Property<DateTime?>("AssignedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("ClusterId")
                        .HasColumnType("uuid");

                    b.HasIndex("ClusterId")
                        .IsUnique();

                    b.ToTable("ClusterManagers", (string)null);
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Farmer", b =>
                {
                    b.HasBaseType("RiceProduction.Domain.Entities.ApplicationUser");

                    b.Property<string>("FarmCode")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasIndex("FarmCode");

                    b.ToTable("Farmers", (string)null);
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Supervisor", b =>
                {
                    b.HasBaseType("RiceProduction.Domain.Entities.ApplicationUser");

                    b.Property<int>("CurrentFarmerCount")
                        .HasColumnType("integer");

                    b.Property<int>("MaxFarmerCapacity")
                        .HasColumnType("integer");

                    b.HasIndex("CurrentFarmerCount");

                    b.HasIndex("MaxFarmerCapacity");

                    b.ToTable("Supervisors", (string)null);
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavVendor", b =>
                {
                    b.HasBaseType("RiceProduction.Domain.Entities.ApplicationUser");

                    b.Property<string>("BusinessRegistrationNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<int>("CompletedServices")
                        .HasColumnType("integer");

                    b.Property<string>("EquipmentSpecs")
                        .HasColumnType("jsonb");

                    b.Property<int>("FleetSize")
                        .HasColumnType("integer");

                    b.Property<string>("OperatingSchedule")
                        .HasColumnType("jsonb");

                    b.Property<decimal?>("ServiceRadius")
                        .HasColumnType("decimal(8,2)");

                    b.Property<decimal>("ServiceRatePerHa")
                        .HasColumnType("decimal(10,2)");

                    b.Property<string>("VendorName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.HasIndex("FleetSize");

                    b.HasIndex("ServiceRadius");

                    b.HasIndex("ServiceRatePerHa");

                    b.HasIndex("VendorName");

                    b.ToTable("UavVendors", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<System.Guid>", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationRole", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<System.Guid>", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<System.Guid>", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationRole", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<System.Guid>", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Alert", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Acknowledger")
                        .WithMany()
                        .HasForeignKey("AcknowledgedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.AgronomyExpert", null)
                        .WithMany("ConsultedAlerts")
                        .HasForeignKey("AgronomyExpertId");

                    b.HasOne("RiceProduction.Domain.Entities.Cluster", "Cluster")
                        .WithMany("Alerts")
                        .HasForeignKey("ClusterId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.CultivationTask", "CreatedEmergencyTask")
                        .WithMany()
                        .HasForeignKey("CreatedEmergencyTaskId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.Group", "Group")
                        .WithMany("Alerts")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.Plot", "Plot")
                        .WithMany("Alerts")
                        .HasForeignKey("PlotId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Resolver")
                        .WithMany()
                        .HasForeignKey("ResolvedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Acknowledger");

                    b.Navigation("Cluster");

                    b.Navigation("CreatedEmergencyTask");

                    b.Navigation("Group");

                    b.Navigation("Plot");

                    b.Navigation("Resolver");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.CultivationTask", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "AssignedSupervisor")
                        .WithMany()
                        .HasForeignKey("AssignedToUserId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.UavVendor", "AssignedVendor")
                        .WithMany()
                        .HasForeignKey("AssignedToVendorId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.PlotCultivation", "PlotCultivation")
                        .WithMany("CultivationTasks")
                        .HasForeignKey("PlotCultivationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.ProductionPlanTask", "ProductionPlanTask")
                        .WithMany("CultivationTasks")
                        .HasForeignKey("ProductionPlanTaskId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", null)
                        .WithMany("AssignedTasks")
                        .HasForeignKey("SupervisorId");

                    b.HasOne("RiceProduction.Domain.Entities.UavVendor", null)
                        .WithMany("AssignedTasks")
                        .HasForeignKey("UavVendorId");

                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Verifier")
                        .WithMany()
                        .HasForeignKey("VerifiedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("AssignedSupervisor");

                    b.Navigation("AssignedVendor");

                    b.Navigation("PlotCultivation");

                    b.Navigation("ProductionPlanTask");

                    b.Navigation("Verifier");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.CultivationTaskMaterial", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.CultivationTask", "CultivationTask")
                        .WithMany("CultivationTaskMaterials")
                        .HasForeignKey("CultivationTaskId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Material", "Material")
                        .WithMany()
                        .HasForeignKey("MaterialId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Material", null)
                        .WithMany("CultivationTaskMaterials")
                        .HasForeignKey("MaterialId1");

                    b.Navigation("CultivationTask");

                    b.Navigation("Material");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.FarmLog", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.CultivationTask", "CultivationTask")
                        .WithMany("FarmLogs")
                        .HasForeignKey("CultivationTaskId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Farmer", "Logger")
                        .WithMany("FarmLogs")
                        .HasForeignKey("LoggedBy")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.PlotCultivation", "PlotCultivation")
                        .WithMany("FarmLogs")
                        .HasForeignKey("PlotCultivationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Verifier")
                        .WithMany()
                        .HasForeignKey("VerifiedBy");

                    b.Navigation("CultivationTask");

                    b.Navigation("Logger");

                    b.Navigation("PlotCultivation");

                    b.Navigation("Verifier");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.FarmLogMaterial", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.FarmLog", "FarmLog")
                        .WithMany("FarmLogMaterials")
                        .HasForeignKey("FarmLogId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Material", "Material")
                        .WithMany()
                        .HasForeignKey("MaterialId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("FarmLog");

                    b.Navigation("Material");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.FieldWeather", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Cluster", "Cluster")
                        .WithMany("WeatherData")
                        .HasForeignKey("ClusterId");

                    b.Navigation("Cluster");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Group", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Cluster", "Cluster")
                        .WithMany("Groups")
                        .HasForeignKey("ClusterId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.RiceVariety", "RiceVariety")
                        .WithMany("Groups")
                        .HasForeignKey("RiceVarietyId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Supervisor")
                        .WithMany("SupervisedGroups")
                        .HasForeignKey("SupervisorId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Cluster");

                    b.Navigation("RiceVariety");

                    b.Navigation("Supervisor");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.MaterialPrice", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Material", "Material")
                        .WithMany("MaterialPrices")
                        .HasForeignKey("MaterialId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Material");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Plot", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Farmer", "Farmer")
                        .WithMany("OwnedPlots")
                        .HasForeignKey("FarmerId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Group", "Group")
                        .WithMany("Plots")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Farmer");

                    b.Navigation("Group");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.PlotCultivation", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Plot", "Plot")
                        .WithMany("PlotCultivations")
                        .HasForeignKey("PlotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.RiceVariety", "RiceVariety")
                        .WithMany("PlotCultivations")
                        .HasForeignKey("RiceVarietyId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Season", "Season")
                        .WithMany("PlotCultivations")
                        .HasForeignKey("SeasonId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Plot");

                    b.Navigation("RiceVariety");

                    b.Navigation("Season");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlan", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.AgronomyExpert", null)
                        .WithMany("ApprovedProductionPlans")
                        .HasForeignKey("AgronomyExpertId");

                    b.HasOne("RiceProduction.Domain.Entities.AgronomyExpert", "Approver")
                        .WithMany()
                        .HasForeignKey("ApprovedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.Group", "Group")
                        .WithMany("ProductionPlans")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.PlotCultivation", "PlotCultivation")
                        .WithMany("ProductionPlans")
                        .HasForeignKey("PlotCultivationId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.StandardPlan", "StandardPlan")
                        .WithMany("ProductionPlans")
                        .HasForeignKey("StandardPlanId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Submitter")
                        .WithMany()
                        .HasForeignKey("SubmittedBy")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Approver");

                    b.Navigation("Group");

                    b.Navigation("PlotCultivation");

                    b.Navigation("StandardPlan");

                    b.Navigation("Submitter");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlanTask", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ProductionPlan", "ProductionPlan")
                        .WithMany("ProductionPlanTasks")
                        .HasForeignKey("ProductionPlanId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.StandardPlanTask", "StandardPlanTask")
                        .WithMany("ProductionPlanTasks")
                        .HasForeignKey("StandardPlanTaskId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("ProductionPlan");

                    b.Navigation("StandardPlanTask");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlanTaskMaterial", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Material", "Material")
                        .WithMany()
                        .HasForeignKey("MaterialId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Material", null)
                        .WithMany("ProductionPlanTaskMaterials")
                        .HasForeignKey("MaterialId1");

                    b.HasOne("RiceProduction.Domain.Entities.ProductionPlanTask", "ProductionPlanTask")
                        .WithMany("ProductionPlanTaskMaterials")
                        .HasForeignKey("ProductionPlanTaskId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Material");

                    b.Navigation("ProductionPlanTask");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.RiceVarietySeason", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.RiceVariety", "RiceVariety")
                        .WithMany("RiceVarietySeasons")
                        .HasForeignKey("RiceVarietyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Season", "Season")
                        .WithMany("RiceVarietySeasons")
                        .HasForeignKey("SeasonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("RiceVariety");

                    b.Navigation("Season");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlan", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.AgronomyExpert", "Creator")
                        .WithMany("CreatedStandardPlans")
                        .HasForeignKey("CreatedBy");

                    b.HasOne("RiceProduction.Domain.Entities.RiceVariety", "RiceVariety")
                        .WithMany("StandardPlans")
                        .HasForeignKey("RiceVarietyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Creator");

                    b.Navigation("RiceVariety");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlanTask", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.StandardPlan", "StandardPlan")
                        .WithMany("StandardPlanTasks")
                        .HasForeignKey("StandardPlanId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("StandardPlan");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlanTaskMaterial", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Material", "Material")
                        .WithMany("StandardPlanTaskMaterials")
                        .HasForeignKey("MaterialId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.StandardPlanTask", "StandardPlanTask")
                        .WithMany("StandardPlanTaskMaterials")
                        .HasForeignKey("StandardPlanTaskId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Material");

                    b.Navigation("StandardPlanTask");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.SupervisorFarmerAssignment", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Farmer", "Farmer")
                        .WithMany("FarmerAssignments")
                        .HasForeignKey("FarmerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Supervisor")
                        .WithMany("SupervisorAssignments")
                        .HasForeignKey("SupervisorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Farmer");

                    b.Navigation("Supervisor");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavInvoice", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.UavServiceOrder", "UavServiceOrder")
                        .WithMany("UavInvoices")
                        .HasForeignKey("UavServiceOrderId");

                    b.HasOne("RiceProduction.Domain.Entities.UavVendor", "UavVendor")
                        .WithMany("UavInvoices")
                        .HasForeignKey("UavVendorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("UavServiceOrder");

                    b.Navigation("UavVendor");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavServiceOrder", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Supervisor", "Creator")
                        .WithMany()
                        .HasForeignKey("CreatedBy");

                    b.HasOne("RiceProduction.Domain.Entities.Group", "Group")
                        .WithMany("UavServiceOrders")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("RiceProduction.Domain.Entities.UavVendor", "UavVendor")
                        .WithMany("UavServiceOrders")
                        .HasForeignKey("UavVendorId");

                    b.Navigation("Creator");

                    b.Navigation("Group");

                    b.Navigation("UavVendor");
                });

            modelBuilder.Entity("RiceProduction.Infrastructure.Identity.RefreshToken", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Admin", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithOne()
                        .HasForeignKey("RiceProduction.Domain.Entities.Admin", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.AgronomyExpert", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithOne()
                        .HasForeignKey("RiceProduction.Domain.Entities.AgronomyExpert", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ClusterManager", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.Cluster", "ManagedCluster")
                        .WithOne("ClusterManager")
                        .HasForeignKey("RiceProduction.Domain.Entities.ClusterManager", "ClusterId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithOne()
                        .HasForeignKey("RiceProduction.Domain.Entities.ClusterManager", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ManagedCluster");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Farmer", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithOne()
                        .HasForeignKey("RiceProduction.Domain.Entities.Farmer", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Supervisor", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithOne()
                        .HasForeignKey("RiceProduction.Domain.Entities.Supervisor", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavVendor", b =>
                {
                    b.HasOne("RiceProduction.Domain.Entities.ApplicationUser", null)
                        .WithOne()
                        .HasForeignKey("RiceProduction.Domain.Entities.UavVendor", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Cluster", b =>
                {
                    b.Navigation("Alerts");

                    b.Navigation("ClusterManager");

                    b.Navigation("Groups");

                    b.Navigation("WeatherData");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.CultivationTask", b =>
                {
                    b.Navigation("CultivationTaskMaterials");

                    b.Navigation("FarmLogs");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.FarmLog", b =>
                {
                    b.Navigation("FarmLogMaterials");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Group", b =>
                {
                    b.Navigation("Alerts");

                    b.Navigation("Plots");

                    b.Navigation("ProductionPlans");

                    b.Navigation("UavServiceOrders");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Material", b =>
                {
                    b.Navigation("CultivationTaskMaterials");

                    b.Navigation("MaterialPrices");

                    b.Navigation("ProductionPlanTaskMaterials");

                    b.Navigation("StandardPlanTaskMaterials");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Plot", b =>
                {
                    b.Navigation("Alerts");

                    b.Navigation("PlotCultivations");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.PlotCultivation", b =>
                {
                    b.Navigation("CultivationTasks");

                    b.Navigation("FarmLogs");

                    b.Navigation("ProductionPlans");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlan", b =>
                {
                    b.Navigation("ProductionPlanTasks");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.ProductionPlanTask", b =>
                {
                    b.Navigation("CultivationTasks");

                    b.Navigation("ProductionPlanTaskMaterials");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.RiceVariety", b =>
                {
                    b.Navigation("Groups");

                    b.Navigation("PlotCultivations");

                    b.Navigation("RiceVarietySeasons");

                    b.Navigation("StandardPlans");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Season", b =>
                {
                    b.Navigation("PlotCultivations");

                    b.Navigation("RiceVarietySeasons");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlan", b =>
                {
                    b.Navigation("ProductionPlans");

                    b.Navigation("StandardPlanTasks");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.StandardPlanTask", b =>
                {
                    b.Navigation("ProductionPlanTasks");

                    b.Navigation("StandardPlanTaskMaterials");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavServiceOrder", b =>
                {
                    b.Navigation("UavInvoices");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.AgronomyExpert", b =>
                {
                    b.Navigation("ApprovedProductionPlans");

                    b.Navigation("ConsultedAlerts");

                    b.Navigation("CreatedStandardPlans");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Farmer", b =>
                {
                    b.Navigation("FarmLogs");

                    b.Navigation("FarmerAssignments");

                    b.Navigation("OwnedPlots");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.Supervisor", b =>
                {
                    b.Navigation("AssignedTasks");

                    b.Navigation("SupervisedGroups");

                    b.Navigation("SupervisorAssignments");
                });

            modelBuilder.Entity("RiceProduction.Domain.Entities.UavVendor", b =>
                {
                    b.Navigation("AssignedTasks");

                    b.Navigation("UavInvoices");

                    b.Navigation("UavServiceOrders");
                });
#pragma warning restore 612, 618
        }
    }
}
